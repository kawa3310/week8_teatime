import{a as h}from"./axios-G2rPRu76.js";import{S as p}from"./sweetalert2.all-mGlgSYyv.js";import{_ as x,a as y,r as f,o as d,c as l,d as a,b as s,w as _,t as i,e as r,j as P,v as k,F as m,h as g,p as B,g as I}from"./index-xff3x6du.js";import{c as S}from"./cartStore-dAoaFKY3.js";var F={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v,VITE_PATH:b}=F,T={data(){return{product:{},recommend:[],qty:1,isloading:!1}},methods:{...y(S,["addCart"]),getProduct(){this.isloading=!0;const{id:e}=this.$route.params;h.get(`${v}/api/${b}/product/${e}`).then(c=>{this.isloading=!1,this.product=c.data.product,this.recommendProduct()}).catch(c=>{this.isloading=!1,p.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:c.response.data.message})})},recommendProduct(){h.get(`${v}/api/${b}/products/All`).then(e=>{e.data.success&&(this.recommend=e.data.products.filter(c=>c.id!==this.product.id).sort(()=>Math.random()-.5).slice(0,4))}).catch(e=>{p.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:e.response.data.message})})}},mounted(){this.getProduct()},watch:{$route(){this.getProduct()}}},n=e=>(B("data-v-f04c3e8b"),e=e(),I(),e),E={class:"container my-5"},U={class:"row justify-content-end"},C={class:"col-md-11"},j={"aria-label":"breadcrumb"},V={class:"breadcrumb px-0 mb-0 py-2 fs-7 justify-content-start"},A={class:"breadcrumb-item"},L={class:"breadcrumb-item"},R={class:"breadcrumb-item active","aria-current":"page"},J={class:"col-md-11"},z={class:"row"},D={class:"col-md-6"},M={class:"d-flex bd-highlight",style:{height:"400px"}},N=["src","alt"],Q={class:"col-md-5"},q={class:"col"},W={class:"badge fs-8 rounded-3 bg-success text-light"},H={class:"mb-4 fs-7"},K=n(()=>s("hr",null,null,-1)),O={class:"fw-bold fs-7"},G={class:"price fs-3"},X={class:"row justify-content-center"},Y={class:"col d-flex align-items-center"},Z=n(()=>s("span",{class:"fs-7"},"數量：",-1)),$={class:"col"},ss=["value"],ts={class:"container-fluid img-say-color"},os={class:"row"},es={class:"col mb-2"},cs=n(()=>s("h4",{class:"text-say text-center pt-3"},"【 師傅有話要說 】",-1)),is={class:"row justify-content-center p-5"},ns={class:"col-0 col-md-5 offset-md-3 align-self-center"},rs={class:"text-back text-center lh-lg"},ds={class:"col-0 col-md-4"},ls=["alt"],as={class:"container my-8"},us={class:"row justify-content-center"},_s=n(()=>s("span",{class:"h4 text-start"},"螞蟻人還喜歡",-1)),ms=n(()=>s("hr",null,null,-1)),hs={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},ps={class:"card border rounded-0"},fs={class:"box"},gs=["src","alt"],vs={class:"p-3"},bs={class:"card-title"},ws=n(()=>s("button",{type:"button",class:"btn btn-outline-success w-100 mt-1 rounded-0"},"商品詳細",-1));function xs(e,c,ys,Ps,t,ks){const w=f("VueLoading"),u=f("RouterLink");return d(),l(m,null,[a(w,{active:t.isloading,"z-index":1060},null,8,["active"]),s("div",E,[s("div",U,[s("div",C,[s("nav",j,[s("ol",V,[s("li",A,[a(u,{class:"text-muted",to:"/"},{default:_(()=>[r("首頁")]),_:1})]),s("li",L,[a(u,{class:"text-muted",to:"/merchandise"},{default:_(()=>[r("產品列表")]),_:1})]),s("li",R,i(t.product.title),1)])])]),s("div",J,[s("div",z,[s("div",D,[s("div",M,[s("img",{src:t.product.imageUrl,class:"w-100 img-fluid object-fit-cover",alt:t.product.imageUrl},null,8,N)])]),s("div",Q,[s("div",q,[s("h5",null,[r(i(t.product.title)+" ",1),s("span",W,i(t.product.category),1)]),s("div",H,[s("span",null,i(t.product.description),1),K,s("p",O,[r("NT$ "),s("span",G,i(t.product.price),1),r(" 元 ")])]),s("div",null,[s("div",X,[s("div",Y,[Z,s("div",$,[P(s("select",{class:"form-select","aria-labe":"數量",name:"number",id:"number","onUpdate:modelValue":c[0]||(c[0]=o=>t.qty=o)},[(d(),l(m,null,g(10,o=>s("option",{key:o,value:o,e:""},i(o),9,ss)),64))],512),[[k,t.qty,void 0,{number:!0}]])])])])]),s("button",{type:"button",class:"btn btn-danger rounded-0 w-100 py-2 mt-4",onClick:c[1]||(c[1]=o=>e.addCart(t.product.id))},"加入購物車")])])])])])]),s("div",ts,[s("div",os,[s("div",es,[cs,s("div",is,[s("div",ns,[s("h4",rs,i(t.product.content),1)]),s("div",ds,[s("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/reirei/1710159844724.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=DJbPP3CWlMkamBFQ79A7FhY0JlPf2g1maCPSEwOrQsUCojIM%2BSrm%2FqFts3SCB%2BbhoWx8TUu3RJiI9qbtyJnMqLTdxAbarnch5H%2FWzm%2BcWdrfoNEdPlc7ILcgs%2FTQsAS1S3oi1JfeMplBk4zjpQJFQun%2BnvQXPavUnua5KxFI7rLAfh5skkUlv6m9q1wKlHFXg5W5yPO9RhsEbCGR8R0LIvrhGKEgyBlg7eJ6sPaz%2FsHzcEmTJP8wbfUTPfIK3WbHVAxm2BvN%2Fhx7pzkF0fxx73Wh6%2BwJQIBMsPjKzo%2Blo2ejwQktfRsElmJNFIT%2B6Iok22nKAC2xJY0C0u%2F3cTkcZw%3D%3D",class:"img-say-img img-fluid object-fit-cover",alt:t.product.imageUrl},null,8,ls)])])])])]),s("div",as,[s("div",us,[_s,ms,s("div",hs,[(d(!0),l(m,null,g(t.recommend,o=>(d(),l("div",{class:"col col-img my-4",key:o.id},[s("div",ps,[s("div",fs,[s("img",{src:o.imageUrl,alt:o.imageUrl,class:"img img-fluid card-img-top object-fit-cover rounded-0"},null,8,gs)]),s("div",vs,[s("h6",bs,i(o.title),1),s("span",null,"NT$"+i(o.price),1),a(u,{to:`/product/${o.id}`,class:"link"},{default:_(()=>[ws]),_:2},1032,["to"])])])]))),128))])])])],64)}const Ts=x(T,[["render",xs],["__scopeId","data-v-f04c3e8b"]]);export{Ts as default};
