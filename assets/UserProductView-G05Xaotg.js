import{a as p}from"./axios-G2rPRu76.js";import{S as h}from"./sweetalert2.all-MuCyUy_j.js";import{_ as w,a as x,r as f,o as r,c as a,d as l,b as t,w as _,t as i,e as d,j as k,v as L,F as m,h as g,p as E,g as D}from"./index-lgt8MWOR.js";import{c as S}from"./cartStore-RtumePls.js";var U={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v,VITE_PATH:b}=U,B={data(){return{product:{},recommend:[],qty:1,isloading:!1}},methods:{...x(S,["addCart"]),getProduct(){this.isloading=!0;const{id:e}=this.$route.params;p.get(`${v}/api/${b}/product/${e}`).then(c=>{this.isloading=!1,this.product=c.data.product,this.recommendProduct()}).catch(c=>{this.isloading=!1,h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:c.response.data.message})})},recommendProduct(){p.get(`${v}/api/${b}/products/All`).then(e=>{e.data.success&&(this.recommend=e.data.products.filter(c=>c.id!==this.product.id).sort(()=>Math.random()-.5).slice(0,4))}).catch(e=>{h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:e.response.data.message})})}},mounted(){this.getProduct()},watch:{$route(){this.getProduct()}}},n=e=>(E("data-v-0a562acb"),e=e(),D(),e),V={class:"container my-5"},M={class:"row justify-content-end"},P={class:"col-md-11"},R={"aria-label":"breadcrumb"},j={class:"breadcrumb px-0 mb-0 py-2 fs-7 justify-content-start"},C={class:"breadcrumb-item"},F={class:"breadcrumb-item"},T={class:"breadcrumb-item active","aria-current":"page"},I={class:"col-md-11"},N={class:"row"},A={class:"col-md-6"},q={class:"d-flex bd-highlight",style:{height:"400px"}},H=["src","alt"],z={class:"col-md-5"},K={class:"col"},O={class:"badge fs-8 rounded-3 bg-success text-light"},W={class:"mb-4 fs-7"},J=n(()=>t("hr",null,null,-1)),Y={class:"fw-bold fs-7"},G={class:"price fs-3"},Z={class:"row justify-content-center"},X={class:"col d-flex align-items-center"},Q=n(()=>t("span",{class:"fs-7"},"數量：",-1)),$={class:"col"},tt=["value"],st={class:"container-fluid img-say-color"},ot={class:"row"},et={class:"col mb-2"},ct=n(()=>t("h4",{class:"text-say text-center pt-3"},"【 師傅有話要說 】",-1)),it={class:"row justify-content-center p-5"},nt={class:"col-0 col-md-5 offset-md-3 align-self-center"},dt={class:"text-back text-center lh-lg"},rt={class:"col-0 col-md-4"},at=["alt"],lt={class:"container my-8"},ut={class:"row justify-content-center"},_t=n(()=>t("span",{class:"h4 text-start"},"螞蟻人還喜歡",-1)),mt=n(()=>t("hr",null,null,-1)),pt={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},ht={class:"card border rounded"},ft={class:"box"},gt=["src","alt"],vt={class:"p-3"},bt={class:"card-title"},yt=n(()=>t("button",{type:"button",class:"btn btn-outline-success w-100 mt-2 rounded-0"},"商品詳細",-1));function wt(e,c,xt,kt,s,Lt){const y=f("VueLoading"),u=f("RouterLink");return r(),a(m,null,[l(y,{active:s.isloading,"z-index":1060},null,8,["active"]),t("div",V,[t("div",M,[t("div",P,[t("nav",R,[t("ol",j,[t("li",C,[l(u,{class:"text-muted",to:"/"},{default:_(()=>[d("首頁")]),_:1})]),t("li",F,[l(u,{class:"text-muted",to:"/merchandise"},{default:_(()=>[d("產品列表")]),_:1})]),t("li",T,i(s.product.title),1)])])]),t("div",I,[t("div",N,[t("div",A,[t("div",q,[t("img",{src:s.product.imageUrl,class:"w-100 img-fluid object-fit-cover",alt:s.product.imageUrl},null,8,H)])]),t("div",z,[t("div",K,[t("h5",null,[d(i(s.product.title)+" ",1),t("span",O,i(s.product.category),1)]),t("div",W,[t("span",null,i(s.product.description),1),J,t("p",Y,[d("NT$ "),t("span",G,i(s.product.price),1),d(" 元 ")])]),t("div",null,[t("div",Z,[t("div",X,[Q,t("div",$,[k(t("select",{class:"form-select","aria-labe":"數量",name:"number",id:"number","onUpdate:modelValue":c[0]||(c[0]=o=>s.qty=o)},[(r(),a(m,null,g(10,o=>t("option",{key:o,value:o,e:""},i(o),9,tt)),64))],512),[[L,s.qty,void 0,{number:!0}]])])])])]),t("button",{type:"button",class:"btn btn-danger rounded-0 w-100 py-2 mt-4",onClick:c[1]||(c[1]=o=>e.addCart(s.product.id))},"加入購物車")])])])])])]),t("div",st,[t("div",ot,[t("div",et,[ct,t("div",it,[t("div",nt,[t("h4",dt,i(s.product.content),1)]),t("div",rt,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/reirei/1742214819181.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742428800&Signature=fFnWMZdn2gfL3DQYfsMybEhRLWpONETbcjTMgK%2FW27fG%2BkImR6psMHMvnoJ3gU9sMYzGkomD4qhihncLoUgHsuXNqIKYdK%2BLiu9Jy78F1As2xoiCr8s3K8OFC%2FpR20uskf8HRaN7i%2FyfzLmyXtO1Eec5qZHPkYxLPxE44D4o02lbCMEl3PUf6cDBfVsLzm31WWm7UbrSla6LO7lfkljfv8p5x5im9NmktHVwRaEDF1UlcLtAkHwM41wJDJEGFCMSZtQqHAqjLdzLsX0OyW1mP9R8pKnarCvcxBN9bBqe226uA5xKD6%2FMf3DfTnBkv%2Bd1WBu3ZlKy98w%2FY5NSpu9lJw%3D%3D",class:"img-say-img img-fluid object-fit-cover",alt:s.product.imageUrl},null,8,at)])])])])]),t("div",lt,[t("div",ut,[_t,mt,t("div",pt,[(r(!0),a(m,null,g(s.recommend,o=>(r(),a("div",{class:"col col-img my-4",key:o.id},[t("div",ht,[t("div",ft,[t("img",{src:o.imageUrl,alt:o.imageUrl,class:"img img-fluid card-img-top object-fit-cover rounded-0"},null,8,gt)]),t("div",vt,[t("h6",bt,i(o.title),1),t("span",null,"NT$"+i(o.price),1),l(u,{to:`/product/${o.id}`,class:"link"},{default:_(()=>[yt]),_:2},1032,["to"])])])]))),128))])])])],64)}const Bt=w(B,[["render",wt],["__scopeId","data-v-0a562acb"]]);export{Bt as default};
