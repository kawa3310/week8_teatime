import{l as n}from"./index-omQM2LBf.js";import{a as o,S as e}from"./sweetalert2.all-VTsAtsNN.js";var c={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i,VITE_PATH:r}=c,p=n("cartStore",{state:()=>({cart:[],final_total:0,total:0}),actions:{getCart(){o.get(`${i}/api/${r}/cart`).then(t=>{this.cart=t.data.data.carts,this.final_total=t.data.data.final_total,this.total=t.data.data.total})},getProduct(){const{id:t}=this.$route.params;o.get(`${i}/api/${r}/product/${t}`).then(a=>{this.product=a.data.product,this.recommendProduct()}).catch(a=>{this.isloading=!1,e.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:a.response.data.message})})},addCart(t){const a={product_id:t,qty:1};o.post(`${i}/api/${r}/cart`,{data:a}).then(()=>{this.getCart(),e.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"success",title:"已加入購物車"})}).catch(s=>{this.isloading=!1,e.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:s.response.data.message})})}}});export{p as c};
