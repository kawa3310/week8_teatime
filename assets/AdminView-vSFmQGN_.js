import{a}from"./axios-G2rPRu76.js";import{S as i}from"./sweetalert2.all-jY29oZH4.js";import{_ as p,r as d,o as m,c as h,b as e,d as n,w as l,e as u,i as k,s as b,k as g,F as $}from"./index-4Q5E_xTk.js";var w={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x}=w,T={methods:{loginOut(){a.post(`${x}/logout`).then(()=>{document.cookie="kawaToken=; expires=Thu, 18 Dec 2003 12:00:00 UTC; path=/natural/dist;",i.fire({toast:!0,position:"center",showConfirmButton:!1,timer:1500,icon:"success",title:"已登出"}),this.$router.push("/user/home")}).catch(t=>{i.fire({toast:!0,position:"center",showConfirmButton:!1,timer:1500,icon:"error",title:t.response.data.message})})}}},V={class:"navbar navbar-expand-lg navbar-dark bg-dark px-sm-1 px-md-2"},R=e("div",{class:"container-fluid"},[e("h4",{class:"m-0"},"後台管理")],-1),E=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),A={class:"collapse navbar-collapse flex justify-content-end",id:"navbarNavAltMarkup"},C={class:"navbar-body my-2"},L={class:"navbar-nav text-center text-nowrap"},S={class:"nav-item me-3"},B={class:"nav-item me-3"},N={class:"nav-item-icon me-3 position-relative"},U={class:"nav-item-icon me-3 position-relative"};function D(t,o,v,f,_,r){const s=d("RouterLink");return m(),h("nav",V,[R,E,e("div",A,[e("div",C,[e("ul",L,[e("li",S,[n(s,{class:"nav-link",to:"/admin/products"},{default:l(()=>[u("產品區 ")]),_:1})]),e("li",B,[n(s,{class:"nav-link",to:"/admin/order"},{default:l(()=>[u("查看訂單")]),_:1})]),e("li",N,[n(s,{class:"nav-link",to:"/admin/voucher"},{default:l(()=>[u("優惠卷")]),_:1})]),e("li",U,[e("a",{href:"#",class:"btn nav-link",onClick:o[0]||(o[0]=k((...c)=>r.loginOut&&r.loginOut(...c),["prevent"]))},"登出")])])])])])}const I=p(T,[["render",D]]);var O={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:M}=O,y={data(){return{checkSuccess:!1}},methods:{cheakLongin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)kawaToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.post(`${M}/api/user/check`).then(()=>{a.defaults.headers.common.Authorization=t,i.fire({toast:!0,position:"center",showConfirmButton:!1,timer:1500,icon:"success",title:"已登入"}),this.checkSuccess=!0}).catch(o=>{i.fire({toast:!0,position:"center",showConfirmButton:!1,timer:1500,icon:"error",title:o.response.data.message}),this.$router.push("/login")})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)kawaToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=t,this.cheakLongin()},components:{AdminNavbarComponents:I}};function P(t,o,v,f,_,r){const s=d("AdminNavbarComponents"),c=d("RouterView");return m(),h($,null,[n(s),_.checkSuccess?(m(),b(c,{key:0})):g("",!0)],64)}const j=p(y,[["render",P]]);export{j as default};
