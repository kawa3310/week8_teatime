import{a as p}from"./axios-G2rPRu76.js";import{S as h}from"./sweetalert2.all-B3CQUdxR.js";import{_ as w,a as y,r as f,o as a,c as l,d as n,b as t,w as _,t as i,e as r,j as P,v as k,F as m,h as g,p as B,g as I}from"./index-GGCiqbao.js";import{c as S}from"./cartStore-dvmxoGAi.js";var F={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v,VITE_PATH:b}=F,T={data(){return{product:{},recommend:[],qty:1,isloading:!1}},methods:{...y(S,["addCart"]),getProduct(){this.isloading=!0;const{id:o}=this.$route.params;p.get(`${v}/api/${b}/product/${o}`).then(c=>{this.isloading=!1,this.product=c.data.product,this.recommendProduct()}).catch(c=>{this.isloading=!1,h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:c.response.data.message})})},recommendProduct(){p.get(`${v}/api/${b}/products/All`).then(o=>{o.data.success&&(this.recommend=o.data.products.filter(c=>c.id!==this.product.id).sort(()=>Math.random()-.5).slice(0,4))}).catch(o=>{h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:o.response.data.message})})}},mounted(){this.getProduct()},watch:{$route(){this.getProduct()}}},d=o=>(B("data-v-9fe0478b"),o=o(),I(),o),E={class:"container mt-3"},U={class:"row justify-content-end"},C={class:"col-md-11"},V={"aria-label":"breadcrumb"},j={class:"breadcrumb px-0 mb-0 py-2 fs-7 justify-content-start"},A={class:"breadcrumb-item"},L={class:"breadcrumb-item"},R={class:"breadcrumb-item active","aria-current":"page"},J={class:"col-md-11"},z={class:"row"},D={class:"col-md-6"},M={class:"d-flex bd-highlight",style:{height:"400px"}},N=["src","alt"],Q={class:"col-md-5"},q={class:"col"},W={class:"badge fs-8 rounded-3 bg-success text-light"},H={class:"mb-4 fs-7"},K=d(()=>t("hr",null,null,-1)),O={class:"fw-bold fs-7"},G={class:"price fs-3"},X={class:"d-flex"},Y=d(()=>t("span",{class:"fs-7"},"數量：",-1)),Z=["value"],$={class:"img-say-color col-lg border mt-5 mb-2 p-3"},tt={class:"row justify-content-center"},st=d(()=>t("h5",{class:"text-say text-center"},"【 師傅有話要說 】",-1)),et={class:"col-md-6 offset-md-3 align-self-center"},ot={class:"text-back text-center lh-lg"},ct={class:"col-md-3"},it=["alt"],rt={class:"row justify-content-center p-8"},dt=d(()=>t("span",{class:"h4 text-start"},"螞蟻人還喜歡",-1)),at=d(()=>t("hr",null,null,-1)),lt={class:"row row-cols-1 row-cols-md-2 g-2"},nt={class:"card h-100 bg-body border rounded-0 ms-2"},ut={class:"box"},_t=["src","alt"],mt={class:"p-3"},pt={class:"title text-top"},ht={class:"card-text fs-7"};function ft(o,c,gt,vt,s,bt){const x=f("VueLoading"),u=f("RouterLink");return a(),l(m,null,[n(x,{active:s.isloading,"z-index":1060},null,8,["active"]),t("div",E,[t("div",U,[t("div",C,[t("nav",V,[t("ol",j,[t("li",A,[n(u,{class:"text-muted",to:"/"},{default:_(()=>[r("首頁")]),_:1})]),t("li",L,[n(u,{class:"text-muted",to:"/merchandise"},{default:_(()=>[r("產品列表")]),_:1})]),t("li",R,i(s.product.title),1)])])]),t("div",J,[t("div",z,[t("div",D,[t("div",M,[t("img",{src:s.product.imageUrl,class:"w-100 img-fluid object-fit-cover",alt:s.product.imageUrl},null,8,N)])]),t("div",Q,[t("div",q,[t("h5",null,[r(i(s.product.title)+" ",1),t("span",W,i(s.product.category),1)]),t("div",H,[t("span",null,i(s.product.description),1),K,t("p",O,[r("NT$ "),t("span",G,i(s.product.price),1),r(" 元 ")])]),t("div",X,[Y,P(t("select",{class:"form-select rounded-0","aria-labe":"數量",style:{width:"80px"},name:"number",id:"number","onUpdate:modelValue":c[0]||(c[0]=e=>s.qty=e)},[(a(),l(m,null,g(10,e=>t("option",{key:e,value:e,e:""},i(e),9,Z)),64))],512),[[k,s.qty,void 0,{number:!0}]])]),t("button",{type:"button",class:"btn btn-danger rounded-0 w-100 py-2 mt-4",onClick:c[1]||(c[1]=e=>o.addCart(s.product.id))},"加入購物車")])])])])])]),t("section",null,[t("div",$,[t("div",tt,[st,t("div",et,[t("h4",ot,i(s.product.content),1)]),t("div",ct,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/reirei/1710159844724.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=DJbPP3CWlMkamBFQ79A7FhY0JlPf2g1maCPSEwOrQsUCojIM%2BSrm%2FqFts3SCB%2BbhoWx8TUu3RJiI9qbtyJnMqLTdxAbarnch5H%2FWzm%2BcWdrfoNEdPlc7ILcgs%2FTQsAS1S3oi1JfeMplBk4zjpQJFQun%2BnvQXPavUnua5KxFI7rLAfh5skkUlv6m9q1wKlHFXg5W5yPO9RhsEbCGR8R0LIvrhGKEgyBlg7eJ6sPaz%2FsHzcEmTJP8wbfUTPfIK3WbHVAxm2BvN%2Fhx7pzkF0fxx73Wh6%2BwJQIBMsPjKzo%2Blo2ejwQktfRsElmJNFIT%2B6Iok22nKAC2xJY0C0u%2F3cTkcZw%3D%3D",class:"img-say-img img-fluid object-fit-cover",alt:s.product.imageUrl},null,8,it)])])])]),t("div",rt,[dt,at,t("div",lt,[(a(!0),l(m,null,g(s.recommend,e=>(a(),l("div",{class:"col-12 col-md-3",key:e.id},[n(u,{to:`/product/${e.id}`,class:"link"},{default:_(()=>[t("div",nt,[t("div",ut,[t("img",{src:e.imageUrl,alt:e.imageUrl,class:"img img-fluid card-img-top object-fit-cover rounded-0"},null,8,_t)]),t("div",mt,[t("h6",pt,i(e.title),1),t("p",ht,"NT$"+i(e.price),1)])])]),_:2},1032,["to"])]))),128))])])],64)}const kt=w(T,[["render",ft],["__scopeId","data-v-9fe0478b"]]);export{kt as default};
