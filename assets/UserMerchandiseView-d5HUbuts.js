import{a as v}from"./axios-G2rPRu76.js";import{S as b}from"./sweetalert2.all-xGpu52c1.js";import{_ as C,a as w,r as _,o,c as i,d as n,b as t,F as l,h as f,n as y,i as x,t as d,w as h,p as V,g as k,e as S}from"./index-pHAOhUG0.js";import{c as D}from"./cartStore-b6AvH6zO.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:I,VITE_PATH:L}=E,T={data(){return{products:[],filter:{list:["全部","泡芙","蛋糕","餅乾","布丁","飲品"],str:"全部"},activeClass:-0,isloading:!1}},methods:{...w(D,["addCart"]),getDatas(){this.isloading=!0,v.get(`${I}/api/${L}/products/All`).then(s=>{if(this.isloading=!1,this.filter.str!=="全部"){const a=s.data.products.filter(u=>u.category===this.filter.str);this.products=a}else this.products=s.data.products}).catch(s=>{this.isloading=!1,b.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:s.response.data.message})})},changeCategory(s,a){this.filter.str=s,this.activeClass=a,this.getDatas()}},mounted(){this.getDatas()},watch:{"$route.query":{handler(){this.getDatas()},deep:!0}}},R=s=>(V("data-v-cff74cf4"),s=s(),k(),s),$={class:"container my-5"},U={class:"category-list d-md-flex justify-content-md-center"},A={class:"list-group list-group-horizontal text-nowrap"},B=["onClick"],j={class:"row row-cols-1 justify-content-center"},N={class:"card bg-body border rounded"},P={class:"box"},z=["src","alt"],M=R(()=>t("div",{class:"info flex-row justify-content-center align-items-center"},[t("p",null,[t("i",{class:"bi bi-search"}),S("商品詳細")])],-1)),F={class:"p-3"},H={class:"fs-7"},O=["onClick"];function q(s,a,u,G,r,g){const m=_("VueLoading"),p=_("RouterLink");return o(),i(l,null,[n(m,{active:r.isloading,"z-index":1060},null,8,["active"]),t("div",$,[t("div",U,[t("ul",A,[(o(!0),i(l,null,f(r.filter.list,(e,c)=>(o(),i("li",{class:"list-group list-group-flush m-2 border rounded",key:c},[t("button",{type:"button",class:y(["list-group-item rounded",r.activeClass==c?"active":""]),onClick:x(J=>g.changeCategory(e,c),["prevent"])},d(e),11,B)]))),128))])]),t("div",j,[(o(!0),i(l,null,f(r.products,e=>(o(),i("div",{class:"col col-img my-4",key:e.id},[t("div",N,[t("div",P,[n(p,{to:`/product/${e.id}`,class:"link"},{default:h(()=>[t("img",{src:e.imageUrl,alt:e.imageUrl,class:"img img-fluid card-img-top object-fit-cover rounded-top"},null,8,z),M]),_:2},1032,["to"])]),t("div",F,[n(p,{to:`/product/${e.id}`,class:"link"},{default:h(()=>[t("h6",H,d(e.title),1),t("span",null,"NT$"+d(e.price),1)]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger w-100 mt-2 rounded-0",onClick:c=>s.addCart(e.id)},"加入購物車",8,O)])])]))),128))])])],64)}const Y=C(T,[["render",q],["__scopeId","data-v-cff74cf4"]]);export{Y as default};
