import{a as p}from"./axios-G2rPRu76.js";import{S as h}from"./sweetalert2.all-SqSvN1c0.js";import{_ as y,a as x,r as f,o as r,c as l,d as a,b as t,w as u,t as i,e as n,j as V,v as S,F as m,h as g,p as k,g as U}from"./index-OhU487nq.js";import{c as j}from"./cartStore-1dSo1G5A.js";var P={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v,VITE_PATH:b}=P,T={data(){return{product:{},recommend:[],qty:1,isloading:!1}},methods:{...x(j,["addCart"]),getProduct(){this.isloading=!0;const{id:e}=this.$route.params;p.get(`${v}/api/${b}/product/${e}`).then(c=>{this.isloading=!1,this.product=c.data.product,this.recommendProduct()}).catch(c=>{this.isloading=!1,h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:c.response.data.message})})},recommendProduct(){p.get(`${v}/api/${b}/products/All`).then(e=>{e.data.success&&(this.recommend=e.data.products.filter(c=>c.id!==this.product.id).sort(()=>Math.random()-.5).slice(0,4))}).catch(e=>{h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:e.response.data.message})})}},mounted(){this.getProduct()},watch:{$route(){this.getProduct()}}},d=e=>(k("data-v-3f21ed4f"),e=e(),U(),e),E={class:"container my-5"},I={class:"row justify-content-end"},L={class:"col-md-11"},C={"aria-label":"breadcrumb"},R={class:"breadcrumb px-0 mb-0 py-2 fs-7 justify-content-start"},B={class:"breadcrumb-item"},A={class:"breadcrumb-item"},D={class:"breadcrumb-item active","aria-current":"page"},N={class:"col-md-11"},q={class:"row"},M={class:"col-md-6"},F={class:"d-flex bd-highlight",style:{height:"400px"}},H=["src","alt"],O={class:"col-md-5"},z={class:"col"},$={class:"badge fs-8 rounded-3 bg-success text-light"},G={class:"mb-4 fs-7"},J=d(()=>t("hr",null,null,-1)),K={class:"fw-bold fs-7"},Q={class:"price fs-3"},W={class:"row justify-content-center"},X={class:"col d-flex align-items-center"},Y=d(()=>t("span",{class:"fs-7"},"數量：",-1)),Z={class:"col"},tt=["value"],st={class:"container-fluid img-say-color"},ot={class:"row"},et={class:"col mb-2"},ct=d(()=>t("h4",{class:"text-say text-center pt-3"},"【 師傅有話要說 】",-1)),it={class:"row justify-content-center p-5"},dt={class:"col-0 col-md-5 offset-md-3 align-self-center"},nt={class:"text-back text-center lh-lg"},rt={class:"col-0 col-md-4"},lt=["alt"],at={class:"container my-8"},_t={class:"row justify-content-center"},ut=d(()=>t("span",{class:"h4 text-start"},"螞蟻人還喜歡",-1)),mt=d(()=>t("hr",null,null,-1)),pt={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},ht={class:"card border rounded"},ft={class:"box"},gt=["src","alt"],vt={class:"p-3"},bt={class:"card-title"},wt=d(()=>t("button",{type:"button",class:"btn btn-outline-success w-100 mt-2 rounded-0"},"商品詳細",-1));function yt(e,c,xt,Vt,s,St){const w=f("VueLoading"),_=f("RouterLink");return r(),l(m,null,[a(w,{active:s.isloading,"z-index":1060},null,8,["active"]),t("div",E,[t("div",I,[t("div",L,[t("nav",C,[t("ol",R,[t("li",B,[a(_,{class:"text-muted",to:"/"},{default:u(()=>[n("首頁")]),_:1})]),t("li",A,[a(_,{class:"text-muted",to:"/merchandise"},{default:u(()=>[n("產品列表")]),_:1})]),t("li",D,i(s.product.title),1)])])]),t("div",N,[t("div",q,[t("div",M,[t("div",F,[t("img",{src:s.product.imageUrl,class:"w-100 img-fluid object-fit-cover",alt:s.product.imageUrl},null,8,H)])]),t("div",O,[t("div",z,[t("h5",null,[n(i(s.product.title)+" ",1),t("span",$,i(s.product.category),1)]),t("div",G,[t("span",null,i(s.product.description),1),J,t("p",K,[n("NT$ "),t("span",Q,i(s.product.price),1),n(" 元 ")])]),t("div",null,[t("div",W,[t("div",X,[Y,t("div",Z,[V(t("select",{class:"form-select","aria-labe":"數量",name:"number",id:"number","onUpdate:modelValue":c[0]||(c[0]=o=>s.qty=o)},[(r(),l(m,null,g(10,o=>t("option",{key:o,value:o,e:""},i(o),9,tt)),64))],512),[[S,s.qty,void 0,{number:!0}]])])])])]),t("button",{type:"button",class:"btn btn-danger rounded-0 w-100 py-2 mt-4",onClick:c[1]||(c[1]=o=>e.addCart(s.product.id))},"加入購物車")])])])])])]),t("div",st,[t("div",ot,[t("div",et,[ct,t("div",it,[t("div",dt,[t("h4",nt,i(s.product.content),1)]),t("div",rt,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/reirei/1742214819181.png",class:"img-say-img img-fluid object-fit-cover",alt:s.product.imageUrl},null,8,lt)])])])])]),t("div",at,[t("div",_t,[ut,mt,t("div",pt,[(r(!0),l(m,null,g(s.recommend,o=>(r(),l("div",{class:"col col-img my-4",key:o.id},[t("div",ht,[t("div",ft,[t("img",{src:o.imageUrl,alt:o.imageUrl,class:"img img-fluid card-img-top object-fit-cover rounded-0"},null,8,gt)]),t("div",vt,[t("h6",bt,i(o.title),1),t("span",null,"NT$"+i(o.price),1),a(_,{to:`/product/${o.id}`,class:"link"},{default:u(()=>[wt]),_:2},1032,["to"])])])]))),128))])])])],64)}const Tt=y(T,[["render",yt],["__scopeId","data-v-3f21ed4f"]]);export{Tt as default};
