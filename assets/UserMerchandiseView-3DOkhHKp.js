import{a as v,S as b}from"./sweetalert2.all-Pn1vR6wA.js";import{_ as C,d as x,r as _,o,c as a,e as n,a as t,F as l,j as h,n as y,w,t as d,f,p as V,i as k,g as S}from"./index-YrOX5VuD.js";import{c as D}from"./cartStore-L7qvGJIA.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:I,VITE_PATH:L}=E,T={data(){return{products:[],filter:{list:["全部","泡芙","蛋糕","餅乾","布丁","飲品"],str:"全部"},activeClass:-0,isloading:!1}},methods:{...x(D,["addCart"]),getDatas(){this.isloading=!0,v.get(`${I}/api/${L}/products/All`).then(s=>{if(this.isloading=!1,this.filter.str!=="全部"){const i=s.data.products.filter(u=>u.category===this.filter.str);this.products=i}else this.products=s.data.products}).catch(s=>{this.isloading=!1,b.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:s.response.data.message})})},changeCategory(s,i){this.filter.str=s,this.activeClass=i,this.getDatas()}},mounted(){this.getDatas()},watch:{"$route.query":{handler(){this.getDatas()},deep:!0}}},R=s=>(V("data-v-9a03ba15"),s=s(),k(),s),$={class:"container mt-md-5 mt-3 mb-5"},j={class:"category list-unstyled d-flex justify-content-center mt-4 mb-5"},A=["onClick"],B={class:"row row-cols-3 row-cols-md-3 g-4 mt-2 justify-content-center"},U={class:"card-body bg-body border rounded-0"},N={class:"box"},P=["src"],M=R(()=>t("div",{class:"info flex-row justify-content-center align-items-center"},[t("p",null,[t("i",{class:"bi bi-search"}),S("商品詳細")])],-1)),z={class:"p-3"},F={class:"title text-top fs-7"},H={class:"card-text mt-1 fs-8"},O={class:"mb-4",style:{"text-align":"center"}},q=["onClick"];function G(s,i,u,J,r,g){const m=_("VueLoading"),p=_("RouterLink");return o(),a(l,null,[n(m,{active:r.isloading,"z-index":1060},null,8,["active"]),t("div",$,[t("ul",j,[(o(!0),a(l,null,h(r.filter.list,(e,c)=>(o(),a("li",{class:"list-change list-group list-group-flush border",key:c},[t("a",{class:y(["list-group-item px-3 py-1 rounded-0",r.activeClass==c?"active":""]),onClick:w(K=>g.changeCategory(e,c),["prevent"])},d(e),11,A)]))),128))]),t("div",B,[(o(!0),a(l,null,h(r.products,e=>(o(),a("div",{class:"col-img col",key:e.id},[t("div",U,[t("div",N,[n(p,{to:`/user/product/${e.id}`,class:"link"},{default:f(()=>[t("img",{src:e.imageUrl,class:"img card-img-top object-fit-cover rounded-0"},null,8,P),M]),_:2},1032,["to"])]),n(p,{to:`/user/product/${e.id}`,class:"link"},{default:f(()=>[t("div",z,[t("h6",F,d(e.title),1),t("p",H,"NT$"+d(e.price),1)])]),_:2},1032,["to"]),t("div",O,[t("button",{type:"button",class:"btn btn-outline-danger rounded-0",onClick:c=>s.addCart(e.id)},"加入購物車",8,q)])])]))),128))])])],64)}const Y=C(T,[["render",G],["__scopeId","data-v-9a03ba15"]]);export{Y as default};
