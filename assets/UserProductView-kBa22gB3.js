import{a as p,S as h}from"./sweetalert2.all-AVed2B3f.js";import{_ as y,d as w,r as f,o as l,c as u,e as n,a as t,f as _,t as i,g as r,b as k,k as P,F as m,j as g,p as B,i as I}from"./index-2Cn7rdsb.js";import{c as S}from"./cartStore-1eI3S9ol.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v,VITE_PATH:b}=E,F={data(){return{product:{},recommend:[],qty:1,isloading:!1}},methods:{...w(S,["addCart"]),getProduct(){this.isloading=!0;const{id:o}=this.$route.params;p.get(`${v}/api/${b}/product/${o}`).then(c=>{this.isloading=!1,this.product=c.data.product,this.recommendProduct()}).catch(c=>{this.isloading=!1,h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:c.response.data.message})})},recommendProduct(){p.get(`${v}/api/${b}/products/All`).then(o=>{o.data.success&&(this.recommend=o.data.products.filter(c=>c.id!==this.product.id).sort(()=>Math.random()-.5).slice(0,4))}).catch(o=>{this.isloading=!1,h.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:o.response.data.message})})}},mounted(){this.getProduct()},watch:{$route(){this.getProduct()}}},a=o=>(B("data-v-14a7c2ee"),o=o(),I(),o),T={class:"container mt-3"},C={class:"row justify-content-center"},U={class:"col-lg-9"},j={"aria-label":"breadcrumb"},V={class:"breadcrumb px-0 mb-0 py-2 fs-8 justify-content-start"},A={class:"breadcrumb-item"},L={class:"breadcrumb-item"},R={class:"breadcrumb-item active","aria-current":"page"},J={class:"col-lg-11"},z={class:"row align-items-center"},D={class:"col-md-6"},M={id:"carouselExampleControls",class:"carousel slide","data-ride":"carousel"},N={class:"carousel-inner"},Q=["src","alt"],q={class:"col-md-5"},W={class:"col"},H={class:"text-title"},K={class:"badge fs-9 rounded-3 bg-success text-light"},O={class:"mb-4 fs-8 text-title"},G=a(()=>t("hr",null,null,-1)),X={class:"text-title-2 fw-bold fs-7"},Y={class:"price fs-3"},$={class:"item-value text-title"},Z=a(()=>t("span",{class:"fs-8"},"數量：",-1)),tt={class:"form-select-sm"},st=["value"],et={class:"img-say-color col-lg border mt-5 mb-2 p-3"},ot={class:"row justify-content-center"},ct=a(()=>t("h5",{class:"text-say text-center"},"【 師傅有話要說 】",-1)),it={class:"col-md-6 offset-md-3 align-self-center"},rt={class:"text-back text-center lh-lg"},at={class:"col-md-3"},nt=["alt"],dt={class:"container-2 mt-5 mb-5"},lt={class:"row justify-content-center"},ut={class:"row p-5"},_t=a(()=>t("span",{class:"h4 text-start"},"螞蟻人還喜歡",-1)),mt=a(()=>t("hr",null,null,-1)),pt={class:"card-body h-100 bg-body border rounded-0"},ht={class:"box"},ft=["src"],gt=a(()=>t("div",{class:"info flex-row justify-content-center align-items-center"},[t("p",null,[t("i",{class:"bi bi-search"}),r("商品詳細")])],-1)),vt={class:"card-body p-3"},bt={class:"title text-top fs-7"},xt={class:"card-text mt-1 fs-8"};function yt(o,c,wt,kt,s,Pt){const x=f("VueLoading"),d=f("RouterLink");return l(),u(m,null,[n(x,{active:s.isloading,"z-index":1060},null,8,["active"]),t("div",T,[t("div",C,[t("div",U,[t("nav",j,[t("ol",V,[t("li",A,[n(d,{class:"text-muted",to:"/user/home"},{default:_(()=>[r("首頁")]),_:1})]),t("li",L,[n(d,{class:"text-muted",to:"/user/merchandise"},{default:_(()=>[r("產品列表")]),_:1})]),t("li",R,i(s.product.title),1)])])]),t("div",J,[t("div",z,[t("div",D,[t("div",M,[t("div",N,[t("img",{src:s.product.imageUrl,class:"img-product object-fit-cover ms-5 pt-1 pb-1",alt:s.product.imageUrl},null,8,Q)])])]),t("div",q,[t("div",W,[t("h5",H,[r(i(s.product.title)+" ",1),t("span",K,i(s.product.category),1)]),t("div",O,[t("span",null,i(s.product.description),1),G,t("p",X,[r("NT$ "),t("span",Y,i(s.product.price),1),r(" 元 ")])]),t("div",$,[Z,t("label",tt,[k(t("select",{name:"number",id:"number","onUpdate:modelValue":c[0]||(c[0]=e=>s.qty=e)},[(l(),u(m,null,g(10,e=>t("option",{key:e,value:e,e:""},i(e),9,st)),64))],512),[[P,s.qty,void 0,{number:!0}]])])]),t("button",{type:"button",class:"btn btn-danger rounded-0 w-100 py-2 mt-4",onClick:c[1]||(c[1]=e=>o.addCart(s.product.id))},"加入購物車")])])])])])]),t("section",null,[t("div",et,[t("div",ot,[ct,t("div",it,[t("h4",rt,i(s.product.content),1)]),t("div",at,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/reirei/1710159844724.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=DJbPP3CWlMkamBFQ79A7FhY0JlPf2g1maCPSEwOrQsUCojIM%2BSrm%2FqFts3SCB%2BbhoWx8TUu3RJiI9qbtyJnMqLTdxAbarnch5H%2FWzm%2BcWdrfoNEdPlc7ILcgs%2FTQsAS1S3oi1JfeMplBk4zjpQJFQun%2BnvQXPavUnua5KxFI7rLAfh5skkUlv6m9q1wKlHFXg5W5yPO9RhsEbCGR8R0LIvrhGKEgyBlg7eJ6sPaz%2FsHzcEmTJP8wbfUTPfIK3WbHVAxm2BvN%2Fhx7pzkF0fxx73Wh6%2BwJQIBMsPjKzo%2Blo2ejwQktfRsElmJNFIT%2B6Iok22nKAC2xJY0C0u%2F3cTkcZw%3D%3D",class:"img-say-img object-fit-cover",alt:s.product.imageUrl},null,8,nt)])])])]),t("div",dt,[t("div",lt,[t("div",ut,[_t,mt,(l(!0),u(m,null,g(s.recommend,e=>(l(),u("div",{class:"col col-box",key:e.id},[t("div",pt,[t("div",ht,[n(d,{to:`/user/product/${e.id}`,class:"link"},{default:_(()=>[t("img",{src:e.imageUrl,class:"img card-img-top object-fit-cover rounded-0"},null,8,ft),gt]),_:2},1032,["to"])]),n(d,{to:`/user/product/${e.id}`,class:"link"},{default:_(()=>[t("div",vt,[t("h6",bt,i(e.title),1),t("p",xt,"NT$"+i(e.price),1)])]),_:2},1032,["to"])])]))),128))])])])],64)}const Et=y(F,[["render",yt],["__scopeId","data-v-14a7c2ee"]]);export{Et as default};
