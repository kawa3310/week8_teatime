import{a as v}from"./axios-G2rPRu76.js";import{S as C}from"./sweetalert2.all-WjRCQhhK.js";import{_ as b,a as w,r as _,o,c as i,d as n,b as t,F as l,h,n as y,i as x,t as d,w as f,p as V,g as k,e as S}from"./index-XTxDnD0T.js";import{c as D}from"./cartStore-bGPVnRQn.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"reirei",BASE_URL:"/week8_teatime/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:I,VITE_PATH:L}=E,T={data(){return{products:[],filter:{list:["全部","泡芙","蛋糕","餅乾","布丁","飲品"],str:"全部"},activeClass:-0,isloading:!1}},methods:{...w(D,["addCart"]),getDatas(){this.isloading=!0,v.get(`${I}/api/${L}/products/All`).then(s=>{if(this.isloading=!1,this.filter.str!=="全部"){const a=s.data.products.filter(u=>u.category===this.filter.str);this.products=a}else this.products=s.data.products}).catch(s=>{this.isloading=!1,C.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:s.response.data.message})})},changeCategory(s,a){this.filter.str=s,this.activeClass=a,this.getDatas()}},mounted(){this.getDatas()},watch:{"$route.query":{handler(){this.getDatas()},deep:!0}}},R=s=>(V("data-v-6e93577e"),s=s(),k(),s),$={class:"container my-5"},U={class:"d-flex justify-content-center"},A={class:"list-group list-group-horizontal-sm my-5"},B=["onClick"],j={class:"row row-cols-3 row-cols-md-3 g-4 mt-2 justify-content-center"},N={class:"card-body bg-body border rounded-0"},P={class:"box"},z=["src","alt"],M=R(()=>t("div",{class:"info flex-row justify-content-center align-items-center"},[t("p",null,[t("i",{class:"bi bi-search"}),S("商品詳細")])],-1)),F={class:"p-3"},H={class:"title text-top fs-7"},O={class:"card-text mt-3 fs-8"},q=["onClick"];function G(s,a,u,J,r,g){const m=_("VueLoading"),p=_("RouterLink");return o(),i(l,null,[n(m,{active:r.isloading,"z-index":1060},null,8,["active"]),t("div",$,[t("div",U,[t("ul",A,[(o(!0),i(l,null,h(r.filter.list,(e,c)=>(o(),i("li",{class:"list-change list-group list-group-flush m-2 border",key:c},[t("a",{class:y(["list-group-item rounded-0",r.activeClass==c?"active":""]),onClick:x(K=>g.changeCategory(e,c),["prevent"])},d(e),11,B)]))),128))])]),t("div",j,[(o(!0),i(l,null,h(r.products,e=>(o(),i("div",{class:"col-img col",key:e.id},[t("div",N,[t("div",P,[n(p,{to:`/product/${e.id}`,class:"link"},{default:f(()=>[t("img",{src:e.imageUrl,alt:e.imageUrl,class:"img img-fluid card-img-top object-fit-cover rounded-0"},null,8,z),M]),_:2},1032,["to"])]),t("div",F,[n(p,{to:`/product/${e.id}`,class:"link"},{default:f(()=>[t("h6",H,d(e.title),1),t("p",O,"NT$"+d(e.price),1)]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger my-4 w-100 rounded-0",onClick:c=>s.addCart(e.id)},"加入購物車",8,q)])])]))),128))])])],64)}const Z=b(T,[["render",G],["__scopeId","data-v-6e93577e"]]);export{Z as default};
